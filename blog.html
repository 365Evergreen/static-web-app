<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - 365 Evergreen</title>
    <meta name="description" content="Latest insights, tips, and news about Microsoft 365 and Power Platform from the experts at 365 Evergreen.">
    
    <!-- Import Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">
                        365
                    </div>
                    <span class="text-xl font-bold">365 Evergreen</span>
                </div>

                <nav class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="services.html" class="nav-link">Services</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="blog.html" class="nav-link text-blue-600">Blog</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                    <a href="contact.html" class="btn btn-primary">Get Started</a>
                </nav>

                <button class="md:hidden p-2" onclick="toggleMobileMenu()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Blog Hero Section -->
    <section class="pt-20 pb-16 bg-gradient-to-r from-blue-600 to-purple-600">
        <div class="container">
            <div class="text-center text-white">
                <h1 class="text-4xl md:text-5xl font-bold mb-6">Our Blog</h1>
                <p class="text-xl max-w-3xl mx-auto">
                    Insights, tips, and latest news about Microsoft 365, Power Platform, and digital transformation.
                </p>
            </div>
        </div>
    </section>

    <!-- Featured Article -->
    <section class="py-16">
        <div class="container" id="featured-article">
            <!-- Featured article will be loaded dynamically from WordPress -->
            <div class="text-center py-8">
                <div class="loading-spinner mx-auto mb-4"></div>
                <p class="text-gray-600">Loading featured article...</p>
            </div>
        </div>
    </section>

    <!-- Recent Articles -->
    <section class="pb-16 bg-gray-50">
        <div class="container">
            <h2 class="text-3xl font-bold mb-8">Recent Articles</h2>
            
            <div class="grid md:grid-cols-3 gap-8 posts-grid" id="recent-articles">
                <!-- Recent articles will be loaded dynamically from WordPress -->
                <div class="col-span-full text-center py-8">
                    <div class="loading-spinner mx-auto mb-4"></div>
                    <p class="text-gray-600">Loading recent articles...</p>
                </div>
            </div>

            <!-- Load More Button -->
            <div class="text-center mt-12">
                <button id="load-more-btn" class="btn btn-primary">
                    Load More Articles
                </button>
            </div>
        </div>
    </section>

    <!-- Newsletter Signup -->
    <section class="py-16">
        <div class="container">
            <div class="max-w-2xl mx-auto text-center">
                <h2 class="text-3xl font-bold mb-4">Stay Updated</h2>
                <p class="text-gray-600 mb-8">
                    Subscribe to our newsletter for the latest insights, tips, and updates about Microsoft 365 and Power Platform.
                </p>
                <form class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                    <input type="email" placeholder="Enter your email" 
                           class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                    <button type="submit" class="btn btn-primary whitespace-nowrap">
                        Subscribe
                    </button>
                </form>
                <p class="text-gray-500 text-sm mt-4">
                    No spam, unsubscribe at any time.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-3 mb-4">
                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">
                        365
                    </div>
                    <span class="text-xl font-bold">365 Evergreen</span>
                </div>
                <p class="text-gray-400 mb-6">Australia's trusted Microsoft 365 and Power Platform consultancy</p>
                
                <div class="flex justify-center space-x-8 mb-6">
                    <a href="index.html" class="text-gray-400 hover:text-white">Home</a>
                    <a href="services.html" class="text-gray-400 hover:text-white">Services</a>
                    <a href="about.html" class="text-gray-400 hover:text-white">About</a>
                    <a href="contact.html" class="text-gray-400 hover:text-white">Contact</a>
                </div>
                
                <div class="pt-6 border-t border-gray-800">
                    <p class="text-sm text-gray-500">
                        ¬© 2025 365 Evergreen. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Main JavaScript -->
    <script src="js/main.js"></script>
    <!-- WordPress Integration -->
    <script src="js/wordpress-integration.js"></script>
    <script src="js/wordpress-enhanced.js"></script>
    
    <script>
        // WordPress Integration Configuration
        const wpConfig = {
            method: 'direct', // Change to 'proxy' if you have CORS issues
            direct: {
                siteUrl: 'https://365evergreen.com', // üëà Update this with your WordPress URL!
                apiPath: '/wp-json/wp/v2'
            },
            proxy: {
                baseUrl: '/api/wordpress',
                addCorsHeaders: true
            },
            cache: {
                enabled: true,
                duration: 5 * 60 * 1000 // 5 minutes
            },
            fallback: {
                showStaticContent: true,
                errorMessage: 'Blog posts are temporarily unavailable. Please visit our main blog site.'
            }
        };

        // Initialize WordPress Blog Integration
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üîß Starting WordPress blog integration...');
            
            try {
                const blog = new EnhancedBlogIntegration(wpConfig);
                await blog.init();
                
                // Add refresh button functionality
                window.refreshBlog = async function() {
                    blog.wp.clearCache();
                    await blog.init();
                };
                
            } catch (error) {
                console.error('‚ùå Blog integration failed:', error);
                
                // Show user-friendly error message
                const errorDiv = document.createElement('div');
                errorDiv.className = 'fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg z-50';
                errorDiv.innerHTML = `
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <span>Blog temporarily unavailable</span>
                        <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-red-900 hover:text-red-700">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                `;
                document.body.appendChild(errorDiv);
                
                // Auto-remove after 10 seconds
                setTimeout(() => {
                    if (errorDiv.parentElement) {
                        errorDiv.remove();
                    }
                }, 10000);
            }
        });
    </script>
</body>
</html>
